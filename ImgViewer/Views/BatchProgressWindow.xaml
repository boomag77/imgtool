<Window x:Class="ImgViewer.Views.BatchProgressWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Batch progress"
        Height="320"
        Width="520"
        WindowStartupLocation="CenterOwner"
        ResizeMode="CanResize">
    <Window.Resources>
        <BooleanToVisibilityConverter x:Key="BoolToVis" />
    </Window.Resources>
    <Grid Margin="12">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <TextBlock Text="Active and pending batch tasks"
                   FontWeight="SemiBold"
                   Margin="0,0,0,8" />

        <ListBox Grid.Row="1" ItemsSource="{Binding Tasks}">
            <ListBox.ItemTemplate>
                <DataTemplate>
                    <Border BorderBrush="#DDDDDD" BorderThickness="1" Padding="8" Margin="0,0,0,8">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="Auto" />
                            </Grid.ColumnDefinitions>

                            <TextBlock Text="{Binding DisplayName}" FontWeight="SemiBold" />
                            <TextBlock Grid.Column="1" Text="{Binding Status}" Foreground="#666666" />

                            <ProgressBar Grid.Row="1"
                                         Grid.ColumnSpan="2"
                                         Height="12"
                                         Margin="0,6,0,0"
                                         Minimum="0"
                                         Maximum="100"
                                         Value="{Binding Progress}"
                                         Visibility="{Binding IsInProgress, Converter={StaticResource BoolToVis}}" />
                        </Grid>
                    </Border>
                </DataTemplate>
            </ListBox.ItemTemplate>
        </ListBox>
    </Grid>
</Window>
